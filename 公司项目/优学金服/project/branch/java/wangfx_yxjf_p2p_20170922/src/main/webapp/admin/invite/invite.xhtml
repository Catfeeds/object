<ui:composition template="/admin/templates/ui.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:composite="http://java.sun.com/jsf/composite/primefaces"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:sec="http://www.springframework.org/security/facelets/tags">


    <ui:define name="content">
    
    <div class="entry">
    	
        <h:form id="form"> 
        	<p:spacer></p:spacer> 
                <p:panel id="filters">
                <h:panelGrid columns="2" cstyleClass="filter-grid"
						rowClasses="filter-row" columnClasses="filter-col1,filter-col2">
                	<h:outputLabel value="邀请人: "></h:outputLabel>
                    <p:inputText id="searchId" value="#{inviteList.tuijian}"></p:inputText>
                    <h:outputLabel value="被邀请人: "></h:outputLabel>
                    <p:inputText id="searchTitle" value="#{inviteList.beituijian}"></p:inputText>
                    <h:outputText></h:outputText>
                    <ui:fragment>
                    <p:commandButton update="dataTable" process="filters" id="searchBtn"
                        value="#{commonMsg.searchLabel}"></p:commandButton>
                    <p:button value="#{commonMsg.resetLabel}" onclick="$('#form')[0].reset();$('#form\\:searchBtn').click();"></p:button>
                    </ui:fragment>
                    </h:panelGrid>
                </p:panel>
                <p:watermark for="searchId" value="" />  
                <p:watermark for="searchTitle" value=""></p:watermark>
            <p:spacer></p:spacer> 

            <p:dataTable id="dataTable" value="#{inviteList.lazyModel}" var="invite" 
               paginator="true" paginatorPosition="bottom"
					rows="15" lazy="true" emptyMessage="#{commonMsg.noResultMsg}" 
					 sortOrder="descending"
					currentPageReportTemplate="#{commonMsg.pageReportTemplate}"
					paginatorTemplate="#{commonMsg.paginatorTemplate}">
                
                 
                <p:column width="120">
                	<f:facet name="header">
                		<h:outputText value="邀请人"></h:outputText>
                	</f:facet>
                    <h:outputText  value="#{invite.tuijian}"></h:outputText>
                </p:column>
                <p:column width="120">
                	<f:facet name="header">
                		<h:outputText value="被邀请人"></h:outputText>
                	</f:facet>
                    <h:outputText  value="#{invite.beituijian}"></h:outputText>
                </p:column>
                <p:column width="112">
                	<f:facet name="header">
                		<h:outputText value="操作：领取体验金"></h:outputText>
                	</f:facet>
                	<ui:fragment rendered="#{invite.tyjstatus==0}">
                   		<h:outputText  value=""></h:outputText>
                   	</ui:fragment>
                	<ui:fragment rendered="#{invite.tyjstatus==1}">
                   		<h:outputText  value="+#{invite.tyjrewmoney}"></h:outputText>
                   	</ui:fragment>
                </p:column>
                <p:column width="50">
                	<f:facet name="header">
                		<h:outputText value="已领取"></h:outputText>
                	</f:facet>
                	<ui:fragment rendered="#{invite.tyjlqstatus==0}">
                   		<h:outputText  value=""></h:outputText>
                    </ui:fragment>
                    <ui:fragment rendered="#{invite.tyjlqstatus==1}">
                   		<h:outputText  value="已领取"></h:outputText>
                    </ui:fragment>
                </p:column>
                <p:column width="112">
                	<f:facet name="header">
                		<h:outputText value="操作：完善账户信息"></h:outputText>
                	</f:facet>
                	<ui:fragment rendered="#{invite.realnamestatus==0}">
                   		<h:outputText  value=""></h:outputText>
                    </ui:fragment>
                	<ui:fragment rendered="#{invite.realnamestatus==1}">
                   		<h:outputText  value="+#{invite.realnamerewmoney}"></h:outputText>
                    </ui:fragment>
                </p:column>
                <p:column width="50">
                	<f:facet name="header">
                		<h:outputText value="已领取"></h:outputText>
                	</f:facet>
                	<ui:fragment rendered="#{invite.realnamelqstatus==0}">
                   		<h:outputText  value=""></h:outputText>
                    </ui:fragment>
                    <ui:fragment rendered="#{invite.realnamelqstatus==1}">
                   		<h:outputText  value="已领取"></h:outputText>
                    </ui:fragment>
                </p:column>
                <p:column width="112">
                	<f:facet name="header">
                		<h:outputText value="操作：投资体验标"></h:outputText>
                	</f:facet>
                	<ui:fragment rendered="#{invite.loantyjstatus==0}">
                    	<h:outputText  value=""></h:outputText>
                    </ui:fragment>
                	<ui:fragment rendered="#{invite.loantyjstatus==1}">
                    	<h:outputText  value="+#{invite.loantyjrewmoney}"></h:outputText>
                    </ui:fragment>
                </p:column>
                <p:column width="50">
                	<f:facet name="header">
                		<h:outputText value="已领取"></h:outputText>
                	</f:facet>
                	<ui:fragment rendered="#{invite.loantyjlqstatus==0}">
                   		<h:outputText  value=""></h:outputText>
                    </ui:fragment>
                    <ui:fragment rendered="#{invite.loantyjlqstatus==1}">
                   		<h:outputText  value="已领取"></h:outputText>
                    </ui:fragment>
                </p:column>
                <p:column width="112">
                	<f:facet name="header">
                		<h:outputText value="操作：绑定银行卡"></h:outputText>
                	</f:facet>
                	<ui:fragment rendered="#{invite.bandcardstatus==0}">
                    	<h:outputText  value=""></h:outputText>
                    </ui:fragment>
                	<ui:fragment rendered="#{invite.bandcardstatus==1}">
                    	<h:outputText  value="+#{invite.bandcardrewmoney}"></h:outputText>
                    </ui:fragment>
                </p:column>
                <p:column width="50">
                	<f:facet name="header">
                		<h:outputText value="已领取"></h:outputText>
                	</f:facet>
                	<ui:fragment rendered="#{invite.bandcardlqstatus==0}">
                   		<h:outputText  value=""></h:outputText>
                    </ui:fragment>
                    <ui:fragment rendered="#{invite.bandcardlqstatus==1}">
                   		<h:outputText  value="已领取"></h:outputText>
                    </ui:fragment>
                </p:column>
                 <p:column width="120">
                	<f:facet name="header">
                		<h:outputText value="待领取奖金合计"></h:outputText>
                	</f:facet>
                	<h:outputText  value="#{inviteHome.getTotalrew(invite.touserid)}"></h:outputText>
                </p:column>
                 <p:column width="120">
                	<f:facet name="header">
                		<h:outputText value="已领取奖金合计"></h:outputText>
                	</f:facet>
                    <h:outputText  value="#{inviteHome.getYlqTotal(invite.id)}"></h:outputText>
                </p:column>
                
                 <f:facet name="footer"> 
 		            
					<!-- 这里弹出dialog吧，然后让他填写发信内容，然后按钮点击发送。 -->

                  <!--    <h:commandLink value="导出Excel" action="#{userHome.exportUserList()}">
                     </h:commandLink> -->
                         <p:commandButton value="导出Excel" ajax="false">
							<p:dataExporter target="dataTable" type="xls" 
								fileName="userList" pageOnly="false"></p:dataExporter>
						</p:commandButton>
 		        </f:facet> 
            </p:dataTable>
            
            <script type="text/javascript">  
       		   //<![CDATA[.......
			    function handleLoginRequest(xhr, status, args) {  
			        if(!args.validationFailed && args.sendSuccess) {  
			        	sendMessageDialog.hide();
			        } else {  
			          	jQuery('#form\\:sendMessageDlg').effect("shake", { times:3 }, 100);  
			        }
			    }
			    //]]> 
			</script>  
        
         
            </h:form>
      </div>
    </ui:define> 
</ui:composition>
